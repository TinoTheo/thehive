{{! app/templates/components/floating-chat.hbs }}
<div class="chat-container">
  {{! Chat Box }}
  <div class="chat-box {{if this.isOpen 'open'}}">
    <div class="chat-header">
      <div class="header-content">
        <i class="fab fa-whatsapp"></i>
        <h3>Medical Support</h3>
      </div>
      <button type="button" class="close-btn" {{on "click" this.toggleChat}}>
        <i class="fas fa-times"></i>
      </button>
    </div>
    
    <div class="chat-messages">
      {{#each this.messages as |message|}}
        <div class="message {{message.type}}">
          {{message.text}}
          <span class="timestamp">{{message.time}}</span>
        </div>
      {{/each}}
    </div>

    <div class="chat-input">
      <input 
        type="text" 
        placeholder="Type your message..." 
        {{on "input" this.updateMessage}}
        value={{this.newMessage}}
        {{on "keypress" this.handleKeyPress}}
      >
      <button type="button" class="send-btn" {{on "click" this.sendMessage}}>
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
  </div>

  {{! Floating Button }}
  <button 
    type="button" 
    class="chat-button {{if this.isOpen 'active'}}" 
    {{on "click" this.toggleChat}}
    aria-label="Open chat"
  >
    {{#if this.unreadCount}}
      <span class="unread-badge">{{this.unreadCount}}</span>
    {{/if}}
    <i class="fab fa-whatsapp"></i>
  </button> 
</div>